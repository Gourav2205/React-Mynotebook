{"ast":null,"code":"import _defineProperty from\"G:/React Course/inotebook/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"G:/React Course/inotebook/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"G:/React Course/inotebook/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useContext,useEffect,useRef,useState}from'react';import NoteContext from'../context/notes/noteContext';import NoteItem from'./NoteItem';import Addnote from'./Addnote';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var context=useContext(NoteContext);var history=useNavigate();var notes=context.notes,getNote=context.getNote,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNote();}else{history(\"/login\");}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",econtent:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,econtent:currentNote.content,etag:currentNote.tag});props.showAlert(\"Updayed successfully\",\"success\");};var handleClick=function handleClick(e){editNote(note.id,note.etitle,note.econtent,note.etag);refClose.current.click();props.showAlert(\"Update Successfully\",\"success\");};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Addnote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:ref,className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:note.etitle,className:\"form-control\",id:\"etitle\",name:\"etitle\",\"aria-describedby\":\"emailHelp\",onChange:onChange,placeholder:\"Enter Note Title\",required:true,minLength:5})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"econtent\",className:\"form-label\",children:\"Content\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:note.econtent,className:\"form-control\",id:\"econtent\",name:\"econtent\",onChange:onChange,placeholder:\"Enter Note Content\",required:true,minLength:5})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:note.etag,className:\"form-control\",id:\"etag\",name:\"etag\",onChange:onChange,placeholder:\"Enter tag\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<5||note.econtent.length<5,type:\"button\",className:\"btn btn-secondary\",onClick:handleClick,children:\"Save changes\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-1\",children:notes.length===0&&\"No notes available\"}),notes.map(function(note){return/*#__PURE__*/_jsx(NoteItem,{updateNote:updateNote,note:note,showAlert:props.showAlert},note._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","NoteContext","NoteItem","Addnote","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","history","notes","getNote","editNote","localStorage","getItem","ref","refClose","_useState","id","etitle","econtent","etag","_useState2","_slicedToArray","note","setNote","updateNote","currentNote","current","click","_id","title","content","tag","showAlert","handleClick","e","onChange","_objectSpread","_defineProperty","target","name","value","children","type","className","tabIndex","role","htmlFor","placeholder","required","minLength","disabled","length","onClick","map"],"sources":["G:/React Course/inotebook/client/src/components/Notes.js"],"sourcesContent":["import { React, useContext, useEffect, useRef, useState } from 'react'\r\nimport NoteContext from '../context/notes/noteContext';\r\nimport NoteItem from './NoteItem';\r\nimport Addnote from './Addnote';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Notes = (props) => {\r\n    const context = useContext(NoteContext);\r\n    const history = useNavigate()\r\n    const { notes, getNote, editNote } = context;\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token')) {\r\n            getNote()\r\n        }\r\n        else {\r\n            history(\"/login\")\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [])\r\n    const ref = useRef(null)\r\n    const refClose = useRef(null)\r\n    const [note, setNote] = useState({ id: \"\", etitle: \"\", econtent: \"\", etag: \"\" })\r\n    const updateNote = (currentNote) => {\r\n        ref.current.click();\r\n        setNote({ id: currentNote._id, etitle: currentNote.title, econtent: currentNote.content, etag: currentNote.tag })\r\n        props.showAlert(\"Updayed successfully\", \"success\")\r\n    }\r\n    const handleClick = (e) => {\r\n        editNote(note.id, note.etitle, note.econtent, note.etag)\r\n        refClose.current.click()\r\n        props.showAlert(\"Update Successfully\", \"success\")\r\n    }\r\n    const onChange = (e) => {\r\n        setNote({ ...note, [e.target.name]: e.target.value })\r\n    }\r\n    return (\r\n        <>\r\n            <Addnote showAlert={props.showAlert}/>\r\n            <button type=\"button\" ref={ref} className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch demo modal\r\n            </button>\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"etitle\" className=\"form-label\">Title</label>\r\n                                    <input type=\"text\" value={note.etitle} className=\"form-control\" id=\"etitle\" name='etitle' aria-describedby=\"emailHelp\" onChange={onChange} placeholder='Enter Note Title' required minLength={5} />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"econtent\" className=\"form-label\">Content</label>\r\n                                    <input type=\"text\" value={note.econtent} className=\"form-control\" id=\"econtent\" name='econtent' onChange={onChange} placeholder='Enter Note Content' required minLength={5} />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"etag\" className=\"form-label\">Tag</label>\r\n                                    <input type=\"text\" value={note.etag} className=\"form-control\" id=\"etag\" name='etag' onChange={onChange} placeholder='Enter tag' />\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button  disabled={note.etitle.length<5 || note.econtent.length<5} type=\"button\" className=\"btn btn-secondary\" onClick={handleClick}>Save changes</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row my-3\">\r\n                <h3>Your Notes</h3>\r\n                <div className=\"container mx-1\">\r\n                    {notes.length === 0 && \"No notes available\"}\r\n                </div>\r\n                {notes.map((note) => {\r\n                    return <NoteItem key={note._id} updateNote={updateNote} note={note} showAlert={props.showAlert}/>\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notes\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}